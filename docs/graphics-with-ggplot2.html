<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Graphics with ggplot2 | Customizing ggplot2 plots in R for scientific research</title>
  <meta name="description" content="5 Graphics with ggplot2 | Customizing ggplot2 plots in R for scientific research" />
  <meta name="generator" content="bookdown 0.21.4 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Graphics with ggplot2 | Customizing ggplot2 plots in R for scientific research" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Graphics with ggplot2 | Customizing ggplot2 plots in R for scientific research" />
  
  
  

<meta name="author" content="Bin Chi" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>
<link rel="next" href="challenges.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CASA0005 seminar 2</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="recommended-resources.html"><a href="recommended-resources.html"><i class="fa fa-check"></i><b>2</b> Recommended resources</a><ul>
<li class="chapter" data-level="2.1" data-path="recommended-resources.html"><a href="recommended-resources.html#resouces-for-the-ggplot2-package"><i class="fa fa-check"></i><b>2.1</b> Resouces for the ggplot2 package</a></li>
<li class="chapter" data-level="2.2" data-path="recommended-resources.html"><a href="recommended-resources.html#resouces-for-graphs-or-data-visualization-in-academic-research"><i class="fa fa-check"></i><b>2.2</b> Resouces for graphs or data visualization in academic research</a></li>
<li class="chapter" data-level="2.3" data-path="recommended-resources.html"><a href="recommended-resources.html#how-to-find-more-useful-resources"><i class="fa fa-check"></i><b>2.3</b> How to find more useful resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="recap.html"><a href="recap.html"><i class="fa fa-check"></i><b>3</b> Recap</a></li>
<li class="chapter" data-level="4" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>4</b> Getting started</a><ul>
<li class="chapter" data-level="4.1" data-path="getting-started.html"><a href="getting-started.html#installing-packages"><i class="fa fa-check"></i><b>4.1</b> Installing packages</a></li>
<li class="chapter" data-level="4.2" data-path="getting-started.html"><a href="getting-started.html#loading-packages"><i class="fa fa-check"></i><b>4.2</b> Loading packages</a></li>
<li class="chapter" data-level="4.3" data-path="getting-started.html"><a href="getting-started.html#dataset"><i class="fa fa-check"></i><b>4.3</b> Dataset</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html"><i class="fa fa-check"></i><b>5</b> Graphics with ggplot2</a><ul>
<li class="chapter" data-level="5.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#basic-components-of-a-ggplot2-plot"><i class="fa fa-check"></i><b>5.1</b> Basic components of a ggplot2 Plot</a></li>
<li class="chapter" data-level="5.2" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#building-a-simple-ggplot-plot"><i class="fa fa-check"></i><b>5.2</b> Building a simple ggplot plot</a><ul>
<li class="chapter" data-level="5.2.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#make-sure-your-datasets-are-data-frames"><i class="fa fa-check"></i><b>5.2.1</b> Make sure your datasets are data frames</a></li>
<li class="chapter" data-level="5.2.2" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#plot-background-and-set-the-x-and-y-axis"><i class="fa fa-check"></i><b>5.2.2</b> Plot background and set the x and y axis</a></li>
<li class="chapter" data-level="5.2.3" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#add-a-layer"><i class="fa fa-check"></i><b>5.2.3</b> Add a layer</a></li>
<li class="chapter" data-level="5.2.4" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#color-the-point"><i class="fa fa-check"></i><b>5.2.4</b> Color the point</a></li>
<li class="chapter" data-level="5.2.5" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#add-a-linear-regression-line"><i class="fa fa-check"></i><b>5.2.5</b> Add a linear regression line</a></li>
<li class="chapter" data-level="5.2.6" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#split-a-single-plot-into-many-related-plots"><i class="fa fa-check"></i><b>5.2.6</b> Split a single plot into many related plots</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#customizing-the-graph"><i class="fa fa-check"></i><b>5.3</b> Customizing the graph</a><ul>
<li class="chapter" data-level="5.3.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#change-the-point-colour"><i class="fa fa-check"></i><b>5.3.1</b> Change the point colour</a></li>
<li class="chapter" data-level="5.3.2" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#change-the-point-size"><i class="fa fa-check"></i><b>5.3.2</b> Change the point size</a></li>
<li class="chapter" data-level="5.3.3" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#change-the-point-shape"><i class="fa fa-check"></i><b>5.3.3</b> Change the point shape</a></li>
<li class="chapter" data-level="5.3.4" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#modify-fitted-regression-lines"><i class="fa fa-check"></i><b>5.3.4</b> Modify fitted regression lines</a></li>
<li class="chapter" data-level="5.3.5" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#change-the-axis-titles"><i class="fa fa-check"></i><b>5.3.5</b> Change the axis titles</a></li>
<li class="chapter" data-level="5.3.6" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#add-axis-labels-and-units"><i class="fa fa-check"></i><b>5.3.6</b> Add axis labels and units</a></li>
<li class="chapter" data-level="5.3.7" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#add-in-title"><i class="fa fa-check"></i><b>5.3.7</b> Add in title</a></li>
<li class="chapter" data-level="5.3.8" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#change-themes"><i class="fa fa-check"></i><b>5.3.8</b> Change themes</a></li>
<li class="chapter" data-level="5.3.9" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#change-the-font-size"><i class="fa fa-check"></i><b>5.3.9</b> Change the font size</a></li>
<li class="chapter" data-level="5.3.10" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#add-in-the-pearson-correlation-coefficient-result-in-the-plot"><i class="fa fa-check"></i><b>5.3.10</b> Add in the Pearson correlation coefficient result in the plot</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#saving-graphs"><i class="fa fa-check"></i><b>5.4</b> Saving graphs</a></li>
<li class="chapter" data-level="5.5" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#extensions"><i class="fa fa-check"></i><b>5.5</b> Extensions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="challenges.html"><a href="challenges.html"><i class="fa fa-check"></i><b>6</b> Challenges</a><ul>
<li class="chapter" data-level="6.1" data-path="challenges.html"><a href="challenges.html#challenge-1-reorder-the-items-in-legend"><i class="fa fa-check"></i><b>6.1</b> Challenge 1: reorder the items in legend</a></li>
<li class="chapter" data-level="6.2" data-path="challenges.html"><a href="challenges.html#challenge-2-manualy-setting-the-colour-of-the-line-and-point"><i class="fa fa-check"></i><b>6.2</b> Challenge 2: Manualy setting the colour of the line and point</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="answer.html"><a href="answer.html"><i class="fa fa-check"></i><b>7</b> Answer</a></li>
<li class="chapter" data-level="" data-path="q-a.html"><a href="q-a.html"><i class="fa fa-check"></i>Q &amp; A</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Customizing ggplot2 plots in R for scientific research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graphics-with-ggplot2" class="section level1">
<h1><span class="header-section-number">5</span> Graphics with ggplot2</h1>
<div id="basic-components-of-a-ggplot2-plot" class="section level2">
<h2><span class="header-section-number">5.1</span> Basic components of a ggplot2 Plot</h2>
<p>There are two ways to produce plots in ggplot2, one is <code>qplot()</code> and the other is <code>ggplot()</code>. In this seminar we focus on <code>ggplot</code>.</p>
<p><a href="https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf">Data Visualization with ggplot2 Cheat Sheet - RStudio</a></p>
<blockquote>
<p>ggplot2 is based on the grammar of graphics, the idea that you can build every graph from the same few components: a <strong>data</strong> set, a set of <strong>geoms</strong>—visual marks that represent data points, and a coordinate system.</p>
</blockquote>
</div>
<div id="building-a-simple-ggplot-plot" class="section level2">
<h2><span class="header-section-number">5.2</span> Building a simple ggplot plot</h2>
<p>Now let us start by creating a scatter plot using <code>ggplot()</code>.The scatter plot is created to explore the relationship between transaction price and total floor area in two different local authorities.
<br></p>
<div id="make-sure-your-datasets-are-data-frames" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Make sure your datasets are data frames</h3>
<p>Since ggplot only works with <strong>data frames</strong>, we use <code>is.data.frame()</code>to check the whether the data is a data frame. If it is not, you need to convert it to a data frame.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="graphics-with-ggplot2.html#cb4-1"></a><span class="co">#test the data set is a data frame</span></span>
<span id="cb4-2"><a href="graphics-with-ggplot2.html#cb4-2"></a><span class="co">#is.data.frame(housedata1)</span></span>
<span id="cb4-3"><a href="graphics-with-ggplot2.html#cb4-3"></a><span class="co">#is.data.frame(housedata2)</span></span></code></pre></div>
<p><br></p>
</div>
<div id="plot-background-and-set-the-x-and-y-axis" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Plot background and set the x and y axis</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="graphics-with-ggplot2.html#cb5-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-5-1.png" width="672" />
<br></p>
</div>
<div id="add-a-layer" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Add a layer</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="graphics-with-ggplot2.html#cb6-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price))<span class="op">+</span></span>
<span id="cb6-2"><a href="graphics-with-ggplot2.html#cb6-2"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-6-1.png" width="672" />
<br></p>
</div>
<div id="color-the-point" class="section level3">
<h3><span class="header-section-number">5.2.4</span> Color the point</h3>
<p>In ggplot, additional aesthetic values can be added in based on other properties from our dataset. Given that housedata1 records transaction price in two local authorities, we can color the points differently depending on the ldnm field.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="graphics-with-ggplot2.html#cb7-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price))<span class="op">+</span></span>
<span id="cb7-2"><a href="graphics-with-ggplot2.html#cb7-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>ldnm))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-7-1.png" width="672" />
<br></p>
</div>
<div id="add-a-linear-regression-line" class="section level3">
<h3><span class="header-section-number">5.2.5</span> Add a linear regression line</h3>
<p>To add a linear regression line to a scatter plot, we can do this by adding <code>stat_smooth()</code>,<code>method = lm</code> where <code>lm</code> means linear model i.e. use linear regression</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="graphics-with-ggplot2.html#cb8-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb8-2"><a href="graphics-with-ggplot2.html#cb8-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>ldnm))<span class="op">+</span></span>
<span id="cb8-3"><a href="graphics-with-ggplot2.html#cb8-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-8-1.png" width="672" />
<br></p>
</div>
<div id="split-a-single-plot-into-many-related-plots" class="section level3">
<h3><span class="header-section-number">5.2.6</span> Split a single plot into many related plots</h3>
<p>You can split the scatter plot for each local authority with <code>facet_wrap()</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="graphics-with-ggplot2.html#cb10-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb10-2"><a href="graphics-with-ggplot2.html#cb10-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>ldnm))<span class="op">+</span></span>
<span id="cb10-3"><a href="graphics-with-ggplot2.html#cb10-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)<span class="op">+</span></span>
<span id="cb10-4"><a href="graphics-with-ggplot2.html#cb10-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-9-1.png" width="672" />
<br></p>
</div>
</div>
<div id="customizing-the-graph" class="section level2">
<h2><span class="header-section-number">5.3</span> Customizing the graph</h2>
<div id="change-the-point-colour" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Change the point colour</h3>
<p>The colour of the points can be control with the <code>color</code> aesthetic. Below is the code to colour all the points in blue.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="graphics-with-ggplot2.html#cb12-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb12-2"><a href="graphics-with-ggplot2.html#cb12-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>)<span class="op">+</span></span>
<span id="cb12-3"><a href="graphics-with-ggplot2.html#cb12-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)<span class="op">+</span></span>
<span id="cb12-4"><a href="graphics-with-ggplot2.html#cb12-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-10-1.png" width="672" />
<br></p>
</div>
<div id="change-the-point-size" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Change the point size</h3>
<p>The size of the points can be controlled with the <code>size</code> aesthetic. The default value of size is 2. The size can be set to 1.2 by the following code.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="graphics-with-ggplot2.html#cb14-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb14-2"><a href="graphics-with-ggplot2.html#cb14-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb14-3"><a href="graphics-with-ggplot2.html#cb14-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)<span class="op">+</span></span>
<span id="cb14-4"><a href="graphics-with-ggplot2.html#cb14-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-11-1.png" width="672" />
<br></p>
</div>
<div id="change-the-point-shape" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Change the point shape</h3>
<p>The size of the points can be controlled with the <code>shape</code> aesthetic. The default shape is solid circles and you can change with <a href="https://blog.albertkuo.me/post/point-shape-options-in-ggplot/">Point Shape Options in ggplot</a>. The following code shows you how to plot the points as solid squares.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="graphics-with-ggplot2.html#cb16-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb16-2"><a href="graphics-with-ggplot2.html#cb16-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>, <span class="dt">shape=</span><span class="dv">15</span>)<span class="op">+</span></span>
<span id="cb16-3"><a href="graphics-with-ggplot2.html#cb16-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)<span class="op">+</span></span>
<span id="cb16-4"><a href="graphics-with-ggplot2.html#cb16-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-12-1.png" width="672" />
<br></p>
</div>
<div id="modify-fitted-regression-lines" class="section level3">
<h3><span class="header-section-number">5.3.4</span> Modify fitted regression lines</h3>
<p>The default color of the fit line is blue. This can be change by setting <code>colour</code>,The following code sets a red fit line.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="graphics-with-ggplot2.html#cb18-1"></a><span class="co">#method 1</span></span>
<span id="cb18-2"><a href="graphics-with-ggplot2.html#cb18-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb18-3"><a href="graphics-with-ggplot2.html#cb18-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb18-4"><a href="graphics-with-ggplot2.html#cb18-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>)<span class="op">+</span></span>
<span id="cb18-5"><a href="graphics-with-ggplot2.html#cb18-5"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="graphics-with-ggplot2.html#cb20-1"></a><span class="co"># method 2</span></span>
<span id="cb20-2"><a href="graphics-with-ggplot2.html#cb20-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb20-3"><a href="graphics-with-ggplot2.html#cb20-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb20-4"><a href="graphics-with-ggplot2.html#cb20-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">colour =</span> <span class="st">&quot;#FF0000&quot;</span>)<span class="op">+</span></span>
<span id="cb20-5"><a href="graphics-with-ggplot2.html#cb20-5"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-13-2.png" width="672" />
<br></p>
<p>The grey area near the fit line is the confidence region.you can disabled it with <code>se = FALSE</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="graphics-with-ggplot2.html#cb22-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb22-2"><a href="graphics-with-ggplot2.html#cb22-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb22-3"><a href="graphics-with-ggplot2.html#cb22-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se =</span> <span class="ot">FALSE</span>)<span class="op">+</span></span>
<span id="cb22-4"><a href="graphics-with-ggplot2.html#cb22-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-14-1.png" width="672" />
<br></p>
</div>
<div id="change-the-axis-titles" class="section level3">
<h3><span class="header-section-number">5.3.5</span> Change the axis titles</h3>
<p>The labs function can be used to change axis labels.Here are two ways to change the axis title.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="graphics-with-ggplot2.html#cb24-1"></a><span class="co">#Method 1</span></span>
<span id="cb24-2"><a href="graphics-with-ggplot2.html#cb24-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb24-3"><a href="graphics-with-ggplot2.html#cb24-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb24-4"><a href="graphics-with-ggplot2.html#cb24-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb24-5"><a href="graphics-with-ggplot2.html#cb24-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Total floor area&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Transaction price&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="graphics-with-ggplot2.html#cb25-1"></a><span class="co">#Method 2</span></span>
<span id="cb25-2"><a href="graphics-with-ggplot2.html#cb25-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb25-3"><a href="graphics-with-ggplot2.html#cb25-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>, <span class="dt">shape=</span><span class="dv">15</span>)<span class="op">+</span></span>
<span id="cb25-4"><a href="graphics-with-ggplot2.html#cb25-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb25-5"><a href="graphics-with-ggplot2.html#cb25-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Total floor area&quot;</span>)<span class="op">+</span></span>
<span id="cb25-6"><a href="graphics-with-ggplot2.html#cb25-6"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Transaction price&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-15-2.png" width="672" />
<br></p>
</div>
<div id="add-axis-labels-and-units" class="section level3">
<h3><span class="header-section-number">5.3.6</span> Add axis labels and units</h3>
<div id="formatting-y-axis-and-labels" class="section level4">
<h4><span class="header-section-number">5.3.6.1</span> Formatting y axis and labels</h4>
<p>Below is the code for adding in the y axis units in ggplot().</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="graphics-with-ggplot2.html#cb26-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb26-2"><a href="graphics-with-ggplot2.html#cb26-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb26-3"><a href="graphics-with-ggplot2.html#cb26-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb26-4"><a href="graphics-with-ggplot2.html#cb26-4"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Total floor area&quot;</span>)<span class="op">+</span></span>
<span id="cb26-5"><a href="graphics-with-ggplot2.html#cb26-5"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Transaction price (£)&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-16-1.png" width="672" />
<br>
If you want to change the units of the y axis to thousands of pounds, you can use <code>scale_y_continuous</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="graphics-with-ggplot2.html#cb27-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb27-2"><a href="graphics-with-ggplot2.html#cb27-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb27-3"><a href="graphics-with-ggplot2.html#cb27-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb27-4"><a href="graphics-with-ggplot2.html#cb27-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> <span class="cf">function</span>(y) y <span class="op">/</span><span class="st"> </span><span class="dv">1000</span>)<span class="op">+</span></span>
<span id="cb27-5"><a href="graphics-with-ggplot2.html#cb27-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Total floor area&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-17-1.png" width="672" />
<br>
You can also format the y labels more readably, with some common formats from the scales package.Below is the code for formatting y labels in comma.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="graphics-with-ggplot2.html#cb28-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb28-2"><a href="graphics-with-ggplot2.html#cb28-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb28-3"><a href="graphics-with-ggplot2.html#cb28-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb28-4"><a href="graphics-with-ggplot2.html#cb28-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb28-5"><a href="graphics-with-ggplot2.html#cb28-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Total floor area&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-18-1.png" width="672" />
<br></p>
<ul>
<li><p>to convert the y axis to a percentage scale ,you can use `scale_y_continuous(labels = scales::percent)’<br />
<br></p></li>
<li><p>to display dollars on the y axis, you can use `scale_y_continuous(labels = scales::dollar)’<br />
<br></p></li>
<li><p>to display euros on the y axis, you can use `scale_y_continuous(labels = scales::dollar_format(suffix = “€”, prefix = ""))’<br />
<br></p></li>
</ul>
</div>
<div id="add-x-axis-unit" class="section level4">
<h4><span class="header-section-number">5.3.6.2</span> Add x axis unit</h4>
<p>Below are listed two approaches to labelling the x axis using math notation. <a href="https://trinkerrstuff.wordpress.com/2018/03/15/2246/">Math Notation for R Plot Titles: expression, bquote, &amp; Greek Letters</a> offers more <code>bquote</code>applications in R.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="graphics-with-ggplot2.html#cb29-1"></a><span class="co">#method 1</span></span>
<span id="cb29-2"><a href="graphics-with-ggplot2.html#cb29-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb29-3"><a href="graphics-with-ggplot2.html#cb29-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb29-4"><a href="graphics-with-ggplot2.html#cb29-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb29-5"><a href="graphics-with-ggplot2.html#cb29-5"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb29-6"><a href="graphics-with-ggplot2.html#cb29-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">bquote</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="graphics-with-ggplot2.html#cb30-1"></a><span class="co">#method 2</span></span>
<span id="cb30-2"><a href="graphics-with-ggplot2.html#cb30-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb30-3"><a href="graphics-with-ggplot2.html#cb30-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb30-4"><a href="graphics-with-ggplot2.html#cb30-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb30-5"><a href="graphics-with-ggplot2.html#cb30-5"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb30-6"><a href="graphics-with-ggplot2.html#cb30-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-19-2.png" width="672" />
<br></p>
</div>
<div id="change-x-axis-breaks" class="section level4">
<h4><span class="header-section-number">5.3.6.3</span> Change x-axis breaks</h4>
<p>You can use the <code>breaks</code> function to change the x or y axis breaks.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="graphics-with-ggplot2.html#cb31-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb31-2"><a href="graphics-with-ggplot2.html#cb31-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb31-3"><a href="graphics-with-ggplot2.html#cb31-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se =</span> <span class="ot">FALSE</span>)<span class="op">+</span></span>
<span id="cb31-4"><a href="graphics-with-ggplot2.html#cb31-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb31-5"><a href="graphics-with-ggplot2.html#cb31-5"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb31-6"><a href="graphics-with-ggplot2.html#cb31-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">bquote</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb31-7"><a href="graphics-with-ggplot2.html#cb31-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">50</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">200</span>,<span class="dv">250</span>,<span class="dv">300</span>))</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="graphics-with-ggplot2.html#cb33-1"></a><span class="co">##using seq if the breaks interval are equal</span></span>
<span id="cb33-2"><a href="graphics-with-ggplot2.html#cb33-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb33-3"><a href="graphics-with-ggplot2.html#cb33-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb33-4"><a href="graphics-with-ggplot2.html#cb33-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb33-5"><a href="graphics-with-ggplot2.html#cb33-5"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb33-6"><a href="graphics-with-ggplot2.html#cb33-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">bquote</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb33-7"><a href="graphics-with-ggplot2.html#cb33-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">50</span>,<span class="dv">300</span>,<span class="dv">50</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-20-2.png" width="672" />
<br></p>
</div>
<div id="specify-axis-plot-range" class="section level4">
<h4><span class="header-section-number">5.3.6.4</span> Specify axis plot range</h4>
<p>You can use <code>limits</code> to modify the axis limits.Below is an example to limit the x axis. It plots the total floor area below 300 .</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="graphics-with-ggplot2.html#cb34-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb34-2"><a href="graphics-with-ggplot2.html#cb34-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb34-3"><a href="graphics-with-ggplot2.html#cb34-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb34-4"><a href="graphics-with-ggplot2.html#cb34-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb34-5"><a href="graphics-with-ggplot2.html#cb34-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">bquote</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb34-6"><a href="graphics-with-ggplot2.html#cb34-6"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">50</span>,<span class="dv">300</span>,<span class="dv">50</span>),<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">300</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_point).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-21-1.png" width="672" />
<br></p>
<p>You can follow the same step for your y axis.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="graphics-with-ggplot2.html#cb36-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb36-2"><a href="graphics-with-ggplot2.html#cb36-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb36-3"><a href="graphics-with-ggplot2.html#cb36-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb36-4"><a href="graphics-with-ggplot2.html#cb36-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb36-5"><a href="graphics-with-ggplot2.html#cb36-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">bquote</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb36-6"><a href="graphics-with-ggplot2.html#cb36-6"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">50</span>,<span class="dv">300</span>,<span class="dv">50</span>),<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">300</span>))<span class="op">+</span></span>
<span id="cb36-7"><a href="graphics-with-ggplot2.html#cb36-7"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1200</span>))</span></code></pre></div>
<pre><code>## Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will replace the existing scale.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-22-1.png" width="672" />
<br></p>
</div>
</div>
<div id="add-in-title" class="section level3">
<h3><span class="header-section-number">5.3.7</span> Add in title</h3>
<p>You can use <code>ggtitle()</code> to add a title in the plot. Below is the code.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="graphics-with-ggplot2.html#cb38-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb38-2"><a href="graphics-with-ggplot2.html#cb38-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb38-3"><a href="graphics-with-ggplot2.html#cb38-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb38-4"><a href="graphics-with-ggplot2.html#cb38-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb38-5"><a href="graphics-with-ggplot2.html#cb38-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb38-6"><a href="graphics-with-ggplot2.html#cb38-6"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Transaction price against total floor area in local authorities, 2009&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-23-1.png" width="672" />
<br></p>
</div>
<div id="change-themes" class="section level3">
<h3><span class="header-section-number">5.3.8</span> Change themes</h3>
<p>There are eight themes that can be directly used to give the plot a customized look.<code>theme_grey()</code> is the default ggplot2 theme, you can use <code>theme_bw()</code> to remove it.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="graphics-with-ggplot2.html#cb39-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb39-2"><a href="graphics-with-ggplot2.html#cb39-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb39-3"><a href="graphics-with-ggplot2.html#cb39-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb39-4"><a href="graphics-with-ggplot2.html#cb39-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb39-5"><a href="graphics-with-ggplot2.html#cb39-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb39-6"><a href="graphics-with-ggplot2.html#cb39-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-24-1.png" width="672" />
<br></p>
<p>Below are listed the rest of six other themes, from which you can choose your favourite for your academic writing.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="graphics-with-ggplot2.html#cb40-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb40-2"><a href="graphics-with-ggplot2.html#cb40-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb40-3"><a href="graphics-with-ggplot2.html#cb40-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb40-4"><a href="graphics-with-ggplot2.html#cb40-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb40-5"><a href="graphics-with-ggplot2.html#cb40-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb40-6"><a href="graphics-with-ggplot2.html#cb40-6"></a><span class="st">   </span><span class="kw">theme_linedraw</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-25-1.png" width="672" />
<br></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="graphics-with-ggplot2.html#cb41-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb41-2"><a href="graphics-with-ggplot2.html#cb41-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb41-3"><a href="graphics-with-ggplot2.html#cb41-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb41-4"><a href="graphics-with-ggplot2.html#cb41-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb41-5"><a href="graphics-with-ggplot2.html#cb41-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb41-6"><a href="graphics-with-ggplot2.html#cb41-6"></a><span class="st">   </span><span class="kw">theme_light</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-26-1.png" width="672" />
<br></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="graphics-with-ggplot2.html#cb42-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb42-2"><a href="graphics-with-ggplot2.html#cb42-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb42-3"><a href="graphics-with-ggplot2.html#cb42-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb42-4"><a href="graphics-with-ggplot2.html#cb42-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb42-5"><a href="graphics-with-ggplot2.html#cb42-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb42-6"><a href="graphics-with-ggplot2.html#cb42-6"></a><span class="st">   </span><span class="kw">theme_dark</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-27-1.png" width="672" />
<br></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="graphics-with-ggplot2.html#cb43-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb43-2"><a href="graphics-with-ggplot2.html#cb43-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb43-3"><a href="graphics-with-ggplot2.html#cb43-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb43-4"><a href="graphics-with-ggplot2.html#cb43-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb43-5"><a href="graphics-with-ggplot2.html#cb43-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb43-6"><a href="graphics-with-ggplot2.html#cb43-6"></a><span class="st">  </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-28-1.png" width="672" />
<br></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="graphics-with-ggplot2.html#cb44-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb44-2"><a href="graphics-with-ggplot2.html#cb44-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb44-3"><a href="graphics-with-ggplot2.html#cb44-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb44-4"><a href="graphics-with-ggplot2.html#cb44-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb44-5"><a href="graphics-with-ggplot2.html#cb44-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb44-6"><a href="graphics-with-ggplot2.html#cb44-6"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-29-1.png" width="672" />
<br></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="graphics-with-ggplot2.html#cb45-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb45-2"><a href="graphics-with-ggplot2.html#cb45-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb45-3"><a href="graphics-with-ggplot2.html#cb45-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb45-4"><a href="graphics-with-ggplot2.html#cb45-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb45-5"><a href="graphics-with-ggplot2.html#cb45-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb45-6"><a href="graphics-with-ggplot2.html#cb45-6"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-30-1.png" width="672" />
<br></p>
<p>The R package <strong>ggthemes</strong> provides another gallery of custom ggplot themes.You can see detials in <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">package:ggthemes • All Your Figure Are Belong To Us</a>.
<br></p>
</div>
<div id="change-the-font-size" class="section level3">
<h3><span class="header-section-number">5.3.9</span> Change the font size</h3>
<p>You can manually customize the ggplot by modifying the components in <a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a>. Below I give a series of examples on how to change the font size in the plot. Let us do it step-by-step.
<br></p>
<div id="change-the-font-size-of-text-in-x-and-y-axis-and-colour-it-red" class="section level4">
<h4><span class="header-section-number">5.3.9.1</span> Change the font size of text in x and y axis and colour it red</h4>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="graphics-with-ggplot2.html#cb46-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb46-2"><a href="graphics-with-ggplot2.html#cb46-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb46-3"><a href="graphics-with-ggplot2.html#cb46-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb46-4"><a href="graphics-with-ggplot2.html#cb46-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb46-5"><a href="graphics-with-ggplot2.html#cb46-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb46-6"><a href="graphics-with-ggplot2.html#cb46-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb46-7"><a href="graphics-with-ggplot2.html#cb46-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-31-1.png" width="672" />
<br></p>
</div>
<div id="change-the-font-size-of-x-and-y-labels-in-the-plot-and-colour-them-red" class="section level4">
<h4><span class="header-section-number">5.3.9.2</span> Change the font size of x and y labels in the plot and colour them red</h4>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="graphics-with-ggplot2.html#cb47-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb47-2"><a href="graphics-with-ggplot2.html#cb47-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb47-3"><a href="graphics-with-ggplot2.html#cb47-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb47-4"><a href="graphics-with-ggplot2.html#cb47-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb47-5"><a href="graphics-with-ggplot2.html#cb47-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb47-6"><a href="graphics-with-ggplot2.html#cb47-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb47-7"><a href="graphics-with-ggplot2.html#cb47-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-32-1.png" width="672" />
<br></p>
</div>
<div id="change-the-font-size-of-facet-labels-in-the-plot-and-colour-them-red" class="section level4">
<h4><span class="header-section-number">5.3.9.3</span> Change the font size of facet labels in the plot and colour them red</h4>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="graphics-with-ggplot2.html#cb48-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb48-2"><a href="graphics-with-ggplot2.html#cb48-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb48-3"><a href="graphics-with-ggplot2.html#cb48-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb48-4"><a href="graphics-with-ggplot2.html#cb48-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb48-5"><a href="graphics-with-ggplot2.html#cb48-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb48-6"><a href="graphics-with-ggplot2.html#cb48-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb48-7"><a href="graphics-with-ggplot2.html#cb48-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-33-1.png" width="672" />
<br></p>
</div>
<div id="change-the-font-size-of-legend-item-labels-in-the-plot-and-colour-them-red" class="section level4">
<h4><span class="header-section-number">5.3.9.4</span> Change the font size of legend item labels in the plot and colour them red</h4>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="graphics-with-ggplot2.html#cb49-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb49-2"><a href="graphics-with-ggplot2.html#cb49-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>ldnm),<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb49-3"><a href="graphics-with-ggplot2.html#cb49-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb49-4"><a href="graphics-with-ggplot2.html#cb49-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb49-5"><a href="graphics-with-ggplot2.html#cb49-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb49-6"><a href="graphics-with-ggplot2.html#cb49-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb49-7"><a href="graphics-with-ggplot2.html#cb49-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-34-1.png" width="672" />
<br></p>
</div>
<div id="change-the-font-size-of-title-of-the-legend-in-the-plot-and-colour-it-red" class="section level4">
<h4><span class="header-section-number">5.3.9.5</span> Change the font size of title of the legend in the plot and colour it red</h4>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="graphics-with-ggplot2.html#cb50-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb50-2"><a href="graphics-with-ggplot2.html#cb50-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>ldnm),<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb50-3"><a href="graphics-with-ggplot2.html#cb50-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb50-4"><a href="graphics-with-ggplot2.html#cb50-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb50-5"><a href="graphics-with-ggplot2.html#cb50-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb50-6"><a href="graphics-with-ggplot2.html#cb50-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb50-7"><a href="graphics-with-ggplot2.html#cb50-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-35-1.png" width="672" />
<br></p>
<p>You may wonder about how to change the legend text in the above plot. Below is the answer:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="graphics-with-ggplot2.html#cb51-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>,<span class="dt">group=</span>ldnm))<span class="op">+</span></span>
<span id="cb51-2"><a href="graphics-with-ggplot2.html#cb51-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>ldnm),<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb51-3"><a href="graphics-with-ggplot2.html#cb51-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb51-4"><a href="graphics-with-ggplot2.html#cb51-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb51-5"><a href="graphics-with-ggplot2.html#cb51-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb51-6"><a href="graphics-with-ggplot2.html#cb51-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb51-7"><a href="graphics-with-ggplot2.html#cb51-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))<span class="op">+</span></span>
<span id="cb51-8"><a href="graphics-with-ggplot2.html#cb51-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&quot;Local authority&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-36-1.png" width="672" />
<br></p>
</div>
</div>
<div id="add-in-the-pearson-correlation-coefficient-result-in-the-plot" class="section level3">
<h3><span class="header-section-number">5.3.10</span> Add in the Pearson correlation coefficient result in the plot</h3>
<p>Since the aim of this scatter plot is to explore the relationship between transaction price and property’s total floor area. The Pearson correlation coefficient is a suitable measure to show in the plot.Here we use stat_cor() from the package ggpubr.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="graphics-with-ggplot2.html#cb52-1"></a><span class="co"># add Pearson correlation coefficient and p value in the graph</span></span>
<span id="cb52-2"><a href="graphics-with-ggplot2.html#cb52-2"></a></span>
<span id="cb52-3"><a href="graphics-with-ggplot2.html#cb52-3"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>))<span class="op">+</span></span>
<span id="cb52-4"><a href="graphics-with-ggplot2.html#cb52-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb52-5"><a href="graphics-with-ggplot2.html#cb52-5"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb52-6"><a href="graphics-with-ggplot2.html#cb52-6"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb52-7"><a href="graphics-with-ggplot2.html#cb52-7"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb52-8"><a href="graphics-with-ggplot2.html#cb52-8"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb52-9"><a href="graphics-with-ggplot2.html#cb52-9"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>))<span class="op">+</span></span>
<span id="cb52-10"><a href="graphics-with-ggplot2.html#cb52-10"></a><span class="st"> </span><span class="kw">stat_cor</span>(<span class="dt">method=</span><span class="st">&quot;pearson&quot;</span>)</span></code></pre></div>
<p><img src="notrho.png" /></p>
<p><br></p>
<p>You may wonder how to change R to rho. Here is one solution I found (<a href="https://stackoverflow.com/questions/58648649/modify-stat-cor-function-to-output-rho-instead-of-r">Modify stat_cor function to output “rho” instead of “R”</a>).</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="graphics-with-ggplot2.html#cb53-1"></a><span class="co"># type this first and modify output.type part</span></span>
<span id="cb53-2"><a href="graphics-with-ggplot2.html#cb53-2"></a><span class="kw">trace</span>(ggpubr<span class="op">:::</span>.cor_test, <span class="dt">edit=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## Tracing function &quot;.cor_test&quot; in package &quot;ggpubr (not-exported)&quot;</code></pre>
<pre><code>## [1] &quot;.cor_test&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="graphics-with-ggplot2.html#cb56-1"></a><span class="co">#plot</span></span>
<span id="cb56-2"><a href="graphics-with-ggplot2.html#cb56-2"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>))<span class="op">+</span></span>
<span id="cb56-3"><a href="graphics-with-ggplot2.html#cb56-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb56-4"><a href="graphics-with-ggplot2.html#cb56-4"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb56-5"><a href="graphics-with-ggplot2.html#cb56-5"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb56-6"><a href="graphics-with-ggplot2.html#cb56-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb56-7"><a href="graphics-with-ggplot2.html#cb56-7"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb56-8"><a href="graphics-with-ggplot2.html#cb56-8"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>))<span class="op">+</span></span>
<span id="cb56-9"><a href="graphics-with-ggplot2.html#cb56-9"></a><span class="st"> </span><span class="kw">stat_cor</span>(<span class="dt">method=</span><span class="st">&quot;pearson&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-38-1.png" width="672" />
<br></p>
<p><strong>Tip</strong>: Once you type <code>trace(ggpubr:::.cor_test, edit=TRUE)</code> in R studio, you will get an edit window as shown above. You need only change the red square part from left to right.</p>
<p><img src="rho.png" out.wide="100%" /></p>
<p><br></p>
<p>You also can change the label text location as shown below:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="graphics-with-ggplot2.html#cb57-1"></a><span class="kw">ggplot</span>(housedata1,<span class="kw">aes</span>(<span class="dt">x=</span>tfarea,<span class="dt">y=</span>price<span class="op">/</span><span class="dv">1000</span>))<span class="op">+</span></span>
<span id="cb57-2"><a href="graphics-with-ggplot2.html#cb57-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color=</span><span class="st">&quot;#56b4e9&quot;</span>,<span class="dt">size =</span> <span class="fl">1.2</span>)<span class="op">+</span></span>
<span id="cb57-3"><a href="graphics-with-ggplot2.html#cb57-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ldnm)<span class="op">+</span></span>
<span id="cb57-4"><a href="graphics-with-ggplot2.html#cb57-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Transaction Price (in £1000s)&quot;</span>,<span class="dt">labels =</span> scales<span class="op">::</span>comma)<span class="op">+</span></span>
<span id="cb57-5"><a href="graphics-with-ggplot2.html#cb57-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="kw">expression</span>(<span class="st">&quot;Total floor area (&quot;</span> <span class="op">~</span><span class="st"> </span>m<span class="op">^</span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;)&quot;</span>))<span class="op">+</span></span>
<span id="cb57-6"><a href="graphics-with-ggplot2.html#cb57-6"></a><span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span></span>
<span id="cb57-7"><a href="graphics-with-ggplot2.html#cb57-7"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>),<span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">13</span>),<span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>))<span class="op">+</span></span>
<span id="cb57-8"><a href="graphics-with-ggplot2.html#cb57-8"></a><span class="st">  </span><span class="kw">stat_cor</span>(<span class="dt">method=</span><span class="st">&quot;pearson&quot;</span>,<span class="dt">label.x =</span> <span class="dv">150</span>, <span class="dt">label.y =</span> <span class="dv">2000</span>,<span class="dt">size=</span><span class="dv">5</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-39-1.png" width="672" />
<br></p>
</div>
</div>
<div id="saving-graphs" class="section level2">
<h2><span class="header-section-number">5.4</span> Saving graphs</h2>
<p>Plots exported directly from RStudio will only achieve a resolution of 72dpi. Higher DPI (Dots per Inch) means higher resolution. <code>ggsave</code> is used to save a high resolution graph from the screen to a file.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="graphics-with-ggplot2.html#cb58-1"></a><span class="co">#get you working directory</span></span>
<span id="cb58-2"><a href="graphics-with-ggplot2.html#cb58-2"></a><span class="kw">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;D:/R/CASA_seminar2&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="graphics-with-ggplot2.html#cb60-1"></a><span class="co">#save the figure as tiff </span></span>
<span id="cb60-2"><a href="graphics-with-ggplot2.html#cb60-2"></a><span class="kw">ggsave</span>(<span class="st">&quot;Figure_A.tiff&quot;</span>,<span class="dt">units=</span><span class="st">&quot;in&quot;</span>, <span class="dt">width=</span><span class="dv">12</span>, <span class="dt">height=</span><span class="dv">6</span>, <span class="dt">dpi=</span><span class="dv">500</span>)  </span>
<span id="cb60-3"><a href="graphics-with-ggplot2.html#cb60-3"></a><span class="co">#ggsave(&quot;first.png&quot;,units=&quot;in&quot;, width=10, height=5, dpi=300)</span></span>
<span id="cb60-4"><a href="graphics-with-ggplot2.html#cb60-4"></a><span class="co">#ggsave(&quot;example.png&quot;, units = &quot;cm&quot;,width = 30, height = 20 )</span></span></code></pre></div>
<p><br></p>
</div>
<div id="extensions" class="section level2">
<h2><span class="header-section-number">5.5</span> Extensions</h2>
<p><a href="https://mode.com/blog/r-ggplot-extension-packages/">12 Extensions to ggplot2 for More Powerful R Visualizations</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="challenges.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/BINCHI1990/CASA_seminar2/edit/master/06-Core.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/BINCHI1990/CASA_seminar2/blob/master/06-Core.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
